name: Metrics
on:
  schedule: [{cron: "0 16 * * *"}]  # Runs daily at 16:00 UTC
  workflow_dispatch:

jobs:
  metrics:
    runs-on: ubuntu-latest
    steps:
      - name: ðŸ§® Generate GitHub Metrics
        uses: lowlighter/metrics@latest
        with:
          filename: metrics.svg
          token: ${{ secrets.METRICS_TOKEN }}
          base: header, activity, community, repositories, metadata
          config_timezone: Asia/Kolkata
          config_twemoji: yes
          config_octicon: yes
          config_gemoji: yes
          config_display: large
          config_order: |
            base.header,
            base.activity+community,
            isocalendar,
            languages,
            topics,
            stargazers,
            leetcode,
            wakatime,
            16personalities,
            base.repositories,
            achievements,
            base.metadata

          plugin_isocalendar: yes
          plugin_isocalendar_duration: full-year

          plugin_languages: yes
          plugin_languages_sections: most-used
          plugin_languages_details: bytes-size, percentage
          plugin_languages_limit: 8

          plugin_topics: yes
          plugin_topics_mode: icons
          plugin_topics_limit: 10

          plugin_stars: yes
          plugin_stars_limit: 4

          plugin_16personalities: yes
          plugin_16personalities_url: "https://www.16personalities.com/profiles/9706d36988477"

          plugin_leetcode: yes
          plugin_leetcode_user: priyambuilds  # Replace with your actual LeetCode username

          plugin_wakatime: yes
          plugin_wakatime_token: ${{ secrets.WAKATIME_API_KEY }}
          plugin_wakatime_sections: time, projects, languages, editors, os
          plugin_wakatime_limit: 5
          plugin_wakatime_url: https://wakatime.com
          plugin_wakatime_user: current
